# Vuex কি?

Vuex হচ্ছে Vue.js অ্যাপ্লিকেশন এর জন্য একটি **স্টেট ম্যানেজমেন্ট প্যাটার্ন + লাইব্রেরী**। এটি একটি অ্যাপ্লিকেশনের সমস্ত কম্পোনেন্টের (components) জন্য একটি কেন্দ্রীভূত স্টোর হিসাবে কাজ করে, এবং নিশ্চিত করে যেন স্টেটগুলো শুধুমাত্র প্রত্যাশিতভাবে মিউটেট হতে পারে। এটা Vue এর অফিশিয়াল [ডেভটুল এক্সটেনশন](https://github.com/vuejs/vue-devtools) এর সাথেও পুরোপুরি খাপ খায়, যা জিরো-কনফিগ টাইম ট্রাভেল ডিবাগিং এবং স্টেট স্নাপশট ইমপোর্ট/এক্সপোর্ট এর মত জটিল কাজ করতে সাহায্য করে।

### স্টেট ম্যানেজমেন্ট প্যাটার্ন কি? 

একটি সহজ Vue কাউন্টার অ্যাপ দিয়ে শুরু করা যাকঃ 

 js
new Vue({
  // état
  data () {
    return {
      count: 0
    }
  },
  // vue
  template: `
    <div>{{ count }}</div>
  `,
  // actions
  methods: {
    increment () {
      this.count++
    }
  }
})


এটা একটা স্বয়ংসম্পূর্ণ অ্যাপ যার এই অংশগুলো আছেঃ 

- **স্টেট**, যা আমাদের অ্যাপটিকে পরিচালনা করে; 
- **ভিউ(view)**, **স্টেট** এর জন্য একটি ডেক্লেরেটিভ ম্যাপিং; 
- **অ্যাকশন**, যা **ভিউ**-এ ইউজার এর ইনপুট এর জন্য স্টেট যে সম্ভাব্য উপায় সমূহে পরিবর্তিত হতে পারে।

এখানে **একমুখী ডাটা ফ্লো** সোজাসাপ্টাভাবে বোঝানো আছেঃ

<p style="text-align: center; margin: 2em">
  <img style="width:100%;max-width:450px;" src="./images/flow.png">
</p>

তবে, এই সোজাসাপ্টা ব্যাপারটা খুব সহজেই ভেঙ্গে পড়ে যখন **কয়েকটি কম্পোনেন্ট এর একটি সাধারণ স্টেট থাকে**। যেমনঃ

- একাধিক ভিউ একই স্টেট এর উপর নির্ভর করতে পারে। 
- বিভিন্ন ভিউ থেকে আসা একশনগুলো একই স্টেটকে পরিবর্তন করতে পারে। 

প্রথম সমস্যার ক্ষেত্রে হায়ারার্কি এর খুব ভিতরে থাকা কম্পোনেন্টগুলোর মধ্যে প্রপ্স(props) আদানপ্রদান   করা খুব জটিল হয়ে পড়তে পারে এবং যা সিবলিং কম্পোনেন্ট এর ক্ষেত্রে এমনিতেই সম্ভব না। পরের সমস্যাটির ক্ষেত্রে আমরা সাধারণত দুধরণের সমাধান করে থাকি। যেমন সরাসরি প্যারেন্ট/চাইল্ড রেফারেন্স খুঁজার চেষ্টা করি অথবা বিভিন্ন ইভেন্ট এর মাধ্যমে একই স্টেটের বিভিন্ন কপি তৈরি করে তা মিউটেট(mutate)  করি এবং তা সিংক্রোনাইজ করি। এই দুইটি উপায়ই খুবই ভঙ্গুর এবং খুব শীঘ্রই কোডগুলা ম্যানেজ করা কঠিন হয়ে পড়ে। 

তাহলে আমরা কেন একটি কম্পোনেন্ট থেকে সাধারণ স্টেটগুলো বের করে নিই না এবং একটি গ্লোবাল সিঙ্গলটন (global singleton) হিসেবে ব্যবহার করি না? কারণ এভাবে আমাদের কম্পোনেন্ট ট্রি একটা বিশাল 'ভিউ' এ রূপান্তরিত হয় এবং যেকোন কম্পোনেন্ট ট্রি এর যেখানেই অবস্থান করুক না কেন, তারা যেকোন স্টেটকে ব্যবহার করতে পারে অথবা যেকোন একশন ট্রিগার করতে পারে।     

আমরা স্টেট ম্যানেজমেন্টের ধারণাটা  আলাদা আলাদা ভাবে ডিফাইন করি এবং ভিউ ও স্টেট এর মধ্যকার স্বাধীনতা রক্ষার জন্য কিছু নিয়ম ঠিক করে রাখি। এর ফলস্বরূপ আমাদের কোড আরো কাঠামোবদ্ধ  এবং রক্ষণশীল হয়ে ওঠে।  

এটাই Vuex এর মৌলিক ধারণা যা মূলত [Flux](https://facebook.github.io/flux/docs/overview.html), [Redux](http://redux.js.org/) এবং [The Elm Architecture](https://guide.elm-lang.org/architecture/)থেকে অনুপ্রাণিত। কিন্তু অন্যদের সাথে অমিল হচ্ছে, Vuex একই সাথে Vue.js এর জন্য বিশেষভাবে তৈরি একটি লাইব্রেরি ইমপ্লিমেন্টেশন, যা কার্যকর আপডেটের জন্য Vue.js এর  গ্রানুলার রিয়েক্টিভিটি (granular reactivity) এর যথাযথ  সুবিধা নেয়। 

আপনি যদি Vuex একটি ইন্টারেক্টিভ উপায়ে শিখতে চান, তাহলে [Vuex course on Scrimba](https://scrimba.com/g/gvuex) দেখতে পারেন, যা আপনাকে স্ক্রিনকাস্ট এবং কোড প্লেগ্রাউন্ড এর একটি মিশ্র ব্যবস্থা দিবে যা আপনি যেকোন সময় থামাতে বা চালু করতে পারেন এবং একই সাথে কোড এডিট ও করতে পারবেন।       

![vuex](./images/vuex.png)

### আমাদের কখন এটি ব্যবহার করা উচিত?
 
Vuex আমাদেরকে সাধারণ স্টেটগুলো ম্যানেজ করতে সাহায্য করে, যার বিপরীতে আমাদেরকে অতিরিক্ত কিছু ধারণরা সাথে পরিচিত হতে হয় এবং কিছু বয়লার প্লেট লেখা লাগে। এটা স্বল্পমেয়াদী এবং দীর্ঘমেয়াদী প্রোডাক্টিভিটির মধ্যে একটি ট্রেড অফ।


আপনি যদি কখনো বড় আকারের SPA তৈরি না করেন এবং Vuex ব্যবহার করা শুরু করে দেন তবে এটি কঠিন এবং বিরক্তিকর মনে হতে পারে। এটি পুরোপুরি স্বাভাবিক - যদি আপনার অ্যাপ্লিকেশনটি সহজ হয়, তবে আপনি সম্ভবত Vuex ছাড়াও ভাল ভাবে কাজ করতে পারবেন । আপনার একটি সহজ [স্টোর প্যাটার্ন](https://vuejs.org/v2/guide/state-management.html#Simple-State-Management-from-Scratch) প্রয়োজন হতে পারে| কিন্তু আপনি যদি মাঝারি থেকে বড় স্কেল SPA তৈরি করেন, তবে আপনাকে আপনার Vue কম্পোনেটস এর বাইরে স্টেট ম্যানেজমেন্ট নিয়ে চিন্তা করতে হবে এবং Vuex আপনার জন্য স্বাভাবিক পরবর্তী ধাপ। Redux লেখক ড্যান আব্রামভভ খুব সুন্দর একটি কথা বলেছিলেনঃ 
> Flux লাইব্রেরিগুলো অনেকটা চশমার মত, আপনার যখন এদের দরকার পড়বে তখন ঠিকই বুঝতে পারবেন।




